/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package good.morning;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.sql.Connection;
import java.sql.DriverManager;
import java.util.Properties;
import java.util.Scanner;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import good.morning.controller.TaskDao;
import good.morning.view.Display;

public class App {

    static InputStream inputStream;
    public static Scanner userInput = new Scanner(System.in);
    public static Logger logger = LogManager.getLogger(App.class);

    public static void main(String[] args) {

        try {

            Properties properties = new Properties();
            logger.info("Retrieving database properties");
            try {
                inputStream = new FileInputStream("database.properties");
                logger.info("Retrieved database properties successfully");
            } catch (FileNotFoundException e) {
                logger.error("Error while retrieving database properties: " + e.getMessage());
                e.printStackTrace();
            }
            try {
                properties.load(inputStream);
                logger.info("Loaded database properties successfully");
            } catch (IOException e) {
                logger.error("Error while loading database properties: " + e.getMessage());
                e.printStackTrace();
            }

            Connection connection;
            logger.info("Establishing database connection");
            connection = DriverManager.getConnection(properties.getProperty("url"), properties.getProperty("user"),
                    properties.getProperty("password"));
            TaskDao taskDao = new TaskDao(connection);

            // boolean on = true;
            // while (on) {

                logger.info("Starting program");
                System.out.println("***");
                System.out.println("Program starting... oh ghuD");
                System.out.println("");

                Display.modeMenu();



            //     Display.welcome();
            //     Display.yesToContinue();
            //     int yesToContinueSelection = userInput.nextInt();
            //     selection.yesToContinueLogic(yesToContinueSelection);
            //     switch (yesToContinueSelection) {
            //     case 1:
            //         Display.modeMenu();
            //         int displayModeMenuSelection = userInput.nextInt();
            //         switch (displayModeMenuSelection) {
            //         case 1:
            //             taskDao.topOfMind();
            //             break;
            //         case 2:
            //             Display.presentation();
            //             Display.yesToContinue();
            //             yesToContinueSelection = userInput.nextInt();
            //             switch (yesToContinueSelection) {
            //             case 1:
            //                 taskDao.topOfMind();
            //                 displayThinkMenu();
            //                 int thinkMenuSelection = userInput.nextInt();
            //                 switch (thinkMenuSelection) {
            //                 case 1:
            //                     taskDao.headspace();
            //                     break;
            //                 case 2:
            //                     taskDao.frontAndCenter();
            //                     break;
            //                 case 3:
            //                     taskDao.sideNote();
            //                     break;
            //                 case 4:
            //                     taskDao.backBurner();
            //                     break;
            //                 case 5:
            //                     taskDao.bottomLine();
            //                     break;
            //                 case 6:
            //                     displayDoMenu();
            //                     int doMenuSelection = userInput.nextInt();
            //                     switch (doMenuSelection) {
            //                     case 1:
            //                         taskDao.insert();
            //                         taskDao.headspace();
            //                         break;
            //                     case 2:
            //                         System.out.println("What are we rethinking?");
            //                         int id;
            //                         System.out.println("Enter ID: ");
            //                         id = userInput.nextInt();
            //                         taskDao.rethink(id);
            //                     }
            //                     break;
            //                 case 7:
            //                     on = false;
            //                 default:
            //                     System.out.println("Hmm... should we start over?");
            //                     Display.yesToContinue();
            //                     yesToContinueSelection = userInput.nextInt();
            //                     switch (yesToContinueSelection) {
            //                     case 1:
            //                         Display.welcome();
            //                         break;
            //                     case 2:
            //                         on = false;
            //                         break;
            //                     default:
            //                         on = false;
            //                     }
            //                 }
            //                 break;
            //             case 2:
            //                 on = false;
            //             default:
            //                 System.out.println("Hmm... should we start over?");
            //                 Display.yesToContinue();
            //                 yesToContinueSelection = userInput.nextInt();
            //                 switch (yesToContinueSelection) {
            //                 case 1:
            //                     Display.welcome();
            //                     break;
            //                 case 2:
            //                     on = false;
            //                     break;
            //                 default:
            //                     on = false;
            //                 }
            //             }
            //             break;
            //         case 3:
            //             on = false;
            //         default:
            //             System.out.println("Hmm... should we start over?");
            //             Display.yesToContinue();
            //             yesToContinueSelection = userInput.nextInt();
            //             switch (yesToContinueSelection) {
            //             case 1:
            //                 Display.welcome();
            //                 break;
            //             case 2:
            //                 on = false;
            //                 break;
            //             default:
            //                 on = false;
            //             }
            //         }
            //         break;
            //     case 2:
            //         on = false;
            //     default:
            //         System.out.println("Hmm... should we start over?");
            //         Display.yesToContinue();
            //         yesToContinueSelection = userInput.nextInt();
            //         switch (yesToContinueSelection) {
            //         case 1:
            //             Display.welcome();
            //             break;
            //         case 2:
            //             on = false;
            //             break;
            //         default:
            //             on = false;
            //         }
            //     }
            // }

            // on = false;

            // displayGhud();
            // displayGhudMenu();
            // displaySelectToContinue();

            // taskDao.headspace();
            // // taskDao.bottomLine();
            // // taskDao.sideNote();
            // // taskDao.frontAndCenter();
            // // taskDao.backBurner();
            // // taskDao.topOfMind();

            // } catch(SQLException e) {
            // e.printStackTrace();
            // }

            userInput.close();

            System.out.println("");
            System.out.println("Program ending...");
            System.out.println("***");

        } catch (Exception e) {}
    }
}
